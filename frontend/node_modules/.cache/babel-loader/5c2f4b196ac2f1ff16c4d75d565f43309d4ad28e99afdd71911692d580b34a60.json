{"ast":null,"code":"import axios from 'axios';\n\n// Set up the base URL for the backend API\nconst API = axios.create({\n  // Use the port where your Node/Express server is running (usually 5000)\n  baseURL: 'http://localhost:5000/api',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Function to fetch all available courts for the Slot Selector\nexport const fetchCourts = async () => {\n  try {\n    const response = await API.get('/courts');\n    return response.data;\n  } catch (error) {\n    console.error(\"Error fetching courts:\", error);\n    throw error;\n  }\n};\n\n// Function to get the dynamic price for a potential booking (Phase 4 Logic)\nexport const checkPrice = async bookingDetails => {\n  try {\n    const response = await API.post('/bookings/price', bookingDetails);\n    return response.data.finalPrice;\n  } catch (error) {\n    console.error(\"Error checking price:\", error);\n    throw error;\n  }\n};\nexport const createBooking = async bookingData => {\n  try {\n    // Sends the full client and slot details to the backend\n    const response = await API.post('/bookings', bookingData);\n    return response.data; // Returns { message, bookingId, finalPrice }\n  } catch (error) {\n    console.error(\"Error creating booking:\", error.response.data.message);\n    // Throw the error message for the form to display\n    throw new Error(error.response.data.message || \"Could not finalize booking.\");\n  }\n};\n\n// ... existing functions (fetchCourts, checkPrice, createBooking) ...\n\n// NEW: Function to get all bookings for the Admin Dashboard\nexport const getAllBookings = async () => {\n  try {\n    const response = await API.get('/bookings/admin');\n    return response.data;\n  } catch (error) {\n    console.error(\"Error fetching all bookings:\", error.response.data.message);\n    throw new Error(\"Could not load bookings list.\");\n  }\n};","map":{"version":3,"names":["axios","API","create","baseURL","headers","fetchCourts","response","get","data","error","console","checkPrice","bookingDetails","post","finalPrice","createBooking","bookingData","message","Error","getAllBookings"],"sources":["C:/Users/Sharon/Documents/project assignment/root/frontend/src/services/apiService.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// Set up the base URL for the backend API\r\nconst API = axios.create({\r\n    // Use the port where your Node/Express server is running (usually 5000)\r\n    baseURL: 'http://localhost:5000/api', \r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n});\r\n\r\n// Function to fetch all available courts for the Slot Selector\r\nexport const fetchCourts = async () => {\r\n    try {\r\n        const response = await API.get('/courts');\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error(\"Error fetching courts:\", error);\r\n        throw error;\r\n    }\r\n};\r\n\r\n// Function to get the dynamic price for a potential booking (Phase 4 Logic)\r\nexport const checkPrice = async (bookingDetails) => {\r\n    try {\r\n        const response = await API.post('/bookings/price', bookingDetails);\r\n        return response.data.finalPrice;\r\n    } catch (error) {\r\n        console.error(\"Error checking price:\", error);\r\n        throw error;\r\n    }\r\n};\r\nexport const createBooking = async (bookingData) => {\r\n    try {\r\n        // Sends the full client and slot details to the backend\r\n        const response = await API.post('/bookings', bookingData);\r\n        return response.data; // Returns { message, bookingId, finalPrice }\r\n    } catch (error) {\r\n        console.error(\"Error creating booking:\", error.response.data.message);\r\n        // Throw the error message for the form to display\r\n        throw new Error(error.response.data.message || \"Could not finalize booking.\");\r\n    }\r\n};\r\n\r\n// ... existing functions (fetchCourts, checkPrice, createBooking) ...\r\n\r\n// NEW: Function to get all bookings for the Admin Dashboard\r\nexport const getAllBookings = async () => {\r\n    try {\r\n        const response = await API.get('/bookings/admin');\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error(\"Error fetching all bookings:\", error.response.data.message);\r\n        throw new Error(\"Could not load bookings list.\");\r\n    }\r\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EACrB;EACAC,OAAO,EAAE,2BAA2B;EACpCC,OAAO,EAAE;IACL,cAAc,EAAE;EACpB;AACJ,CAAC,CAAC;;AAEF;AACA,OAAO,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAY;EACnC,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAML,GAAG,CAACM,GAAG,CAAC,SAAS,CAAC;IACzC,OAAOD,QAAQ,CAACE,IAAI;EACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAC9C,MAAMA,KAAK;EACf;AACJ,CAAC;;AAED;AACA,OAAO,MAAME,UAAU,GAAG,MAAOC,cAAc,IAAK;EAChD,IAAI;IACA,MAAMN,QAAQ,GAAG,MAAML,GAAG,CAACY,IAAI,CAAC,iBAAiB,EAAED,cAAc,CAAC;IAClE,OAAON,QAAQ,CAACE,IAAI,CAACM,UAAU;EACnC,CAAC,CAAC,OAAOL,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC7C,MAAMA,KAAK;EACf;AACJ,CAAC;AACD,OAAO,MAAMM,aAAa,GAAG,MAAOC,WAAW,IAAK;EAChD,IAAI;IACA;IACA,MAAMV,QAAQ,GAAG,MAAML,GAAG,CAACY,IAAI,CAAC,WAAW,EAAEG,WAAW,CAAC;IACzD,OAAOV,QAAQ,CAACE,IAAI,CAAC,CAAC;EAC1B,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAACH,QAAQ,CAACE,IAAI,CAACS,OAAO,CAAC;IACrE;IACA,MAAM,IAAIC,KAAK,CAACT,KAAK,CAACH,QAAQ,CAACE,IAAI,CAACS,OAAO,IAAI,6BAA6B,CAAC;EACjF;AACJ,CAAC;;AAED;;AAEA;AACA,OAAO,MAAME,cAAc,GAAG,MAAAA,CAAA,KAAY;EACtC,IAAI;IACA,MAAMb,QAAQ,GAAG,MAAML,GAAG,CAACM,GAAG,CAAC,iBAAiB,CAAC;IACjD,OAAOD,QAAQ,CAACE,IAAI;EACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAACH,QAAQ,CAACE,IAAI,CAACS,OAAO,CAAC;IAC1E,MAAM,IAAIC,KAAK,CAAC,+BAA+B,CAAC;EACpD;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}