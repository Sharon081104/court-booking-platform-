{"ast":null,"code":"const BASE_URL = 'http://localhost:5000/api'; // Adjust port/URL as needed\n\nexport const fetchCourts = async () => {\n  const response = await fetch(`${BASE_URL}/courts`);\n  return response.json();\n};\nconst calculatePrice = async bookingDetails => {\n  // FIX THE URL: Change /api/calculate-price to /api/bookings/calculate-price\n  const response = await fetch(`${API_BASE_URL}/api/bookings/calculate-price`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(bookingDetails)\n  });\n  if (!response.ok) {\n    throw new Error('Price calculation failed.');\n  }\n  return response.json();\n};\nexport const createBooking = async bookingDetails => {\n  const response = await fetch(`${BASE_URL}/bookings`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(bookingDetails)\n  });\n  // The backend handles the availability check and returns 409 if unavailable.\n  if (!response.ok) {\n    // Catch 409 availability conflicts or other errors\n    const errorData = await response.json();\n    throw new Error(errorData.message || 'Booking failed due to a server error.');\n  }\n  return response.json();\n};\nexport const fetchCoaches = async () => {\n  const response = await fetch('http://localhost:5000/api/coaches');\n  if (!response.ok) {\n    throw new Error('Failed to fetch coaches from API');\n  }\n  return response.json();\n};","map":{"version":3,"names":["BASE_URL","fetchCourts","response","fetch","json","calculatePrice","bookingDetails","API_BASE_URL","method","headers","body","JSON","stringify","ok","Error","createBooking","errorData","message","fetchCoaches"],"sources":["C:/Users/Sharon/Documents/project assignment/root/frontend/src/services/bookingService.js"],"sourcesContent":["const BASE_URL = 'http://localhost:5000/api'; // Adjust port/URL as needed\r\n\r\nexport const fetchCourts = async () => {\r\n    const response = await fetch(`${BASE_URL}/courts`);\r\n    return response.json();\r\n};\r\n\r\nconst calculatePrice = async (bookingDetails) => {\r\n    // FIX THE URL: Change /api/calculate-price to /api/bookings/calculate-price\r\n    const response = await fetch(`${API_BASE_URL}/api/bookings/calculate-price`, { \r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(bookingDetails),\r\n    });\r\n\r\n    if (!response.ok) {\r\n        throw new Error('Price calculation failed.');\r\n    }\r\n\r\n    return response.json();\r\n};\r\n\r\nexport const createBooking = async (bookingDetails) => {\r\n    const response = await fetch(`${BASE_URL}/bookings`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(bookingDetails),\r\n    });\r\n    // The backend handles the availability check and returns 409 if unavailable.\r\n    if (!response.ok) {\r\n        // Catch 409 availability conflicts or other errors\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.message || 'Booking failed due to a server error.');\r\n    }\r\n    return response.json();\r\n};\r\nexport const fetchCoaches = async () => {\r\n    const response = await fetch('http://localhost:5000/api/coaches');\r\n    if (!response.ok) {\r\n        throw new Error('Failed to fetch coaches from API');\r\n    }\r\n    return response.json();\r\n};"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,2BAA2B,CAAC,CAAC;;AAE9C,OAAO,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAY;EACnC,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGH,QAAQ,SAAS,CAAC;EAClD,OAAOE,QAAQ,CAACE,IAAI,CAAC,CAAC;AAC1B,CAAC;AAED,MAAMC,cAAc,GAAG,MAAOC,cAAc,IAAK;EAC7C;EACA,MAAMJ,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGI,YAAY,+BAA+B,EAAE;IACzEC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACL,cAAc,EAAE;IACpB,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACN,cAAc;EACvC,CAAC,CAAC;EAEF,IAAI,CAACJ,QAAQ,CAACW,EAAE,EAAE;IACd,MAAM,IAAIC,KAAK,CAAC,2BAA2B,CAAC;EAChD;EAEA,OAAOZ,QAAQ,CAACE,IAAI,CAAC,CAAC;AAC1B,CAAC;AAED,OAAO,MAAMW,aAAa,GAAG,MAAOT,cAAc,IAAK;EACnD,MAAMJ,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGH,QAAQ,WAAW,EAAE;IACjDQ,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACN,cAAc;EACvC,CAAC,CAAC;EACF;EACA,IAAI,CAACJ,QAAQ,CAACW,EAAE,EAAE;IACd;IACA,MAAMG,SAAS,GAAG,MAAMd,QAAQ,CAACE,IAAI,CAAC,CAAC;IACvC,MAAM,IAAIU,KAAK,CAACE,SAAS,CAACC,OAAO,IAAI,uCAAuC,CAAC;EACjF;EACA,OAAOf,QAAQ,CAACE,IAAI,CAAC,CAAC;AAC1B,CAAC;AACD,OAAO,MAAMc,YAAY,GAAG,MAAAA,CAAA,KAAY;EACpC,MAAMhB,QAAQ,GAAG,MAAMC,KAAK,CAAC,mCAAmC,CAAC;EACjE,IAAI,CAACD,QAAQ,CAACW,EAAE,EAAE;IACd,MAAM,IAAIC,KAAK,CAAC,kCAAkC,CAAC;EACvD;EACA,OAAOZ,QAAQ,CAACE,IAAI,CAAC,CAAC;AAC1B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}