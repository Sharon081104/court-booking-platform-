{"ast":null,"code":"// C:\\...\\frontend\\src\\services\\bookingService.js\n// --- Standardized Base URL ---\nconst API_BASE_URL='http://localhost:5000/api';// Standardize the base URL to include /api\n// --- 1. Fetch Courts ---\nexport const fetchCourts=async()=>{// FIX: Use the correct API_BASE_URL\nconst response=await fetch(\"\".concat(API_BASE_URL,\"/courts\"));if(!response.ok){throw new Error('Failed to fetch courts.');}return response.json();};// --- 2. Calculate Price (The Fix for the 404!) ---\n// NOTE: This must be exported so the component can use it\nexport const calculatePrice=async details=>{// The fixed URL now correctly links to the route in bookingRoutes.js\nconst response=await fetch(\"\".concat(API_BASE_URL,\"/bookings/calculate-price\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(details)});if(!response.ok){// This handles both 404 and other backend failures gracefully\nconst errorText=await response.text();console.error(\"Backend Error Response:\",errorText);throw new Error('Price calculation failed.');}return response.json();};// --- 3. Create Booking ---\nexport const createBooking=async bookingDetails=>{// FIX: Use the correct API_BASE_URL\nconst response=await fetch(\"\".concat(API_BASE_URL,\"/bookings\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(bookingDetails)});if(!response.ok){const errorData=await response.json();throw new Error(errorData.message||'Booking failed due to a server error.');}return response.json();};// --- 4. Fetch Coaches ---\nexport const fetchCoaches=async()=>{// FIX: Use the standardized API_BASE_URL\nconst response=await fetch(\"\".concat(API_BASE_URL,\"/coaches\"));if(!response.ok){throw new Error('Failed to fetch coaches from API');}return response.json();};","map":{"version":3,"names":["API_BASE_URL","fetchCourts","response","fetch","concat","ok","Error","json","calculatePrice","details","method","headers","body","JSON","stringify","errorText","text","console","error","createBooking","bookingDetails","errorData","message","fetchCoaches"],"sources":["C:/Users/Sharon/Documents/project assignment/root/frontend/src/services/bookingService.js"],"sourcesContent":["// C:\\...\\frontend\\src\\services\\bookingService.js\r\n\r\n// --- Standardized Base URL ---\r\nconst API_BASE_URL = 'http://localhost:5000/api'; // Standardize the base URL to include /api\r\n\r\n// --- 1. Fetch Courts ---\r\nexport const fetchCourts = async () => {\r\n    // FIX: Use the correct API_BASE_URL\r\n    const response = await fetch(`${API_BASE_URL}/courts`);\r\n    \r\n    if (!response.ok) {\r\n        throw new Error('Failed to fetch courts.');\r\n    }\r\n    return response.json();\r\n};\r\n\r\n// --- 2. Calculate Price (The Fix for the 404!) ---\r\n// NOTE: This must be exported so the component can use it\r\nexport const calculatePrice = async (details) => { \r\n    // The fixed URL now correctly links to the route in bookingRoutes.js\r\n    const response = await fetch(`${API_BASE_URL}/bookings/calculate-price`, { \r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(details),\r\n    });\r\n\r\n    if (!response.ok) {\r\n        // This handles both 404 and other backend failures gracefully\r\n        const errorText = await response.text();\r\n        console.error(\"Backend Error Response:\", errorText);\r\n        throw new Error('Price calculation failed.');\r\n    }\r\n\r\n    return response.json();\r\n};\r\n\r\n// --- 3. Create Booking ---\r\nexport const createBooking = async (bookingDetails) => {\r\n    // FIX: Use the correct API_BASE_URL\r\n    const response = await fetch(`${API_BASE_URL}/bookings`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(bookingDetails),\r\n    });\r\n    \r\n    if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.message || 'Booking failed due to a server error.');\r\n    }\r\n    return response.json();\r\n};\r\n\r\n// --- 4. Fetch Coaches ---\r\nexport const fetchCoaches = async () => {\r\n    // FIX: Use the standardized API_BASE_URL\r\n    const response = await fetch(`${API_BASE_URL}/coaches`);\r\n    \r\n    if (!response.ok) {\r\n        throw new Error('Failed to fetch coaches from API');\r\n    }\r\n    return response.json();\r\n};"],"mappings":"AAAA;AAEA;AACA,KAAM,CAAAA,YAAY,CAAG,2BAA2B,CAAE;AAElD;AACA,MAAO,MAAM,CAAAC,WAAW,CAAG,KAAAA,CAAA,GAAY,CACnC;AACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIJ,YAAY,WAAS,CAAC,CAEtD,GAAI,CAACE,QAAQ,CAACG,EAAE,CAAE,CACd,KAAM,IAAI,CAAAC,KAAK,CAAC,yBAAyB,CAAC,CAC9C,CACA,MAAO,CAAAJ,QAAQ,CAACK,IAAI,CAAC,CAAC,CAC1B,CAAC,CAED;AACA;AACA,MAAO,MAAM,CAAAC,cAAc,CAAG,KAAO,CAAAC,OAAO,EAAK,CAC7C;AACA,KAAM,CAAAP,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIJ,YAAY,8BAA6B,CACrEU,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACL,OAAO,CAChC,CAAC,CAAC,CAEF,GAAI,CAACP,QAAQ,CAACG,EAAE,CAAE,CACd;AACA,KAAM,CAAAU,SAAS,CAAG,KAAM,CAAAb,QAAQ,CAACc,IAAI,CAAC,CAAC,CACvCC,OAAO,CAACC,KAAK,CAAC,yBAAyB,CAAEH,SAAS,CAAC,CACnD,KAAM,IAAI,CAAAT,KAAK,CAAC,2BAA2B,CAAC,CAChD,CAEA,MAAO,CAAAJ,QAAQ,CAACK,IAAI,CAAC,CAAC,CAC1B,CAAC,CAED;AACA,MAAO,MAAM,CAAAY,aAAa,CAAG,KAAO,CAAAC,cAAc,EAAK,CACnD;AACA,KAAM,CAAAlB,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIJ,YAAY,cAAa,CACrDU,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACM,cAAc,CACvC,CAAC,CAAC,CAEF,GAAI,CAAClB,QAAQ,CAACG,EAAE,CAAE,CACd,KAAM,CAAAgB,SAAS,CAAG,KAAM,CAAAnB,QAAQ,CAACK,IAAI,CAAC,CAAC,CACvC,KAAM,IAAI,CAAAD,KAAK,CAACe,SAAS,CAACC,OAAO,EAAI,uCAAuC,CAAC,CACjF,CACA,MAAO,CAAApB,QAAQ,CAACK,IAAI,CAAC,CAAC,CAC1B,CAAC,CAED;AACA,MAAO,MAAM,CAAAgB,YAAY,CAAG,KAAAA,CAAA,GAAY,CACpC;AACA,KAAM,CAAArB,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIJ,YAAY,YAAU,CAAC,CAEvD,GAAI,CAACE,QAAQ,CAACG,EAAE,CAAE,CACd,KAAM,IAAI,CAAAC,KAAK,CAAC,kCAAkC,CAAC,CACvD,CACA,MAAO,CAAAJ,QAAQ,CAACK,IAAI,CAAC,CAAC,CAC1B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}