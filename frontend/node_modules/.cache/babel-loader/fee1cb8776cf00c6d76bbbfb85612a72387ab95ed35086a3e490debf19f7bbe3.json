{"ast":null,"code":"import _objectSpread from\"C:/Users/Sharon/Documents/project assignment/root/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{fetchCourts,fetchCoaches,calculatePrice,createBooking}from'../services/bookingService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const initialBookingState={// Initialize date to today in YYYY-MM-DD format\ndate:new Date().toISOString().split('T')[0],courtId:'',startTime:'10:00',endTime:'11:00',coachId:'',rackets:0,shoes:0};function BookingPage(){var _priceBreakdown$baseC,_priceBreakdown$baseC2,_priceBreakdown$equip,_priceBreakdown$rules,_priceBreakdown$total;const[booking,setBooking]=useState(initialBookingState);const[courts,setCourts]=useState([]);const[coaches,setCoaches]=useState([]);const[priceBreakdown,setPriceBreakdown]=useState(null);const[error,setError]=useState(null);const[loading,setLoading]=useState(false);// --- 1. Fetch Initial Data (Courts & Coaches) ---\nuseEffect(()=>{fetchCourts().then(setCourts).catch(console.error);fetchCoaches().then(data=>{setCoaches(data);}).catch(err=>console.error(\"Error fetching coaches:\",err));},[]);// --- 2. Live Price Calculation Hook ---\nuseEffect(()=>{// Only trigger calculation if necessary fields are set\nif(booking.courtId&&booking.startTime&&booking.endTime){setLoading(true);const bookingDetails={courtId:booking.courtId,// Correct date formatting for the backend API\nstart:\"\".concat(booking.date,\"T\").concat(booking.startTime,\":00\"),end:\"\".concat(booking.date,\"T\").concat(booking.endTime,\":00\"),coachId:booking.coachId,requestedResources:{rackets:booking.rackets,shoes:booking.shoes}};calculatePrice(bookingDetails).then(data=>{setPriceBreakdown(data);setError(null);}).catch(err=>{console.error(\"Pricing Error:\",err);setPriceBreakdown(null);setError(\"Could not calculate price. Check backend logs for API errors.\");}).finally(()=>setLoading(false));}else{setPriceBreakdown(null);}},[booking]);// Recalculate whenever booking state changes\nconst handleChange=e=>{const{name,value,type}=e.target;setBooking(prev=>_objectSpread(_objectSpread({},prev),{},{// Convert to number only if the type attribute is set to 'number' in JSX\n[name]:type==='number'?parseInt(value)||0:value}));};// --- 3. Submission Handler (Includes all necessary fixes) ---\nconst handleSubmit=async e=>{e.preventDefault();setLoading(true);setError(null);// CRITICAL VALIDATION CHECK (Prevents \"Invalid Date\" CastError)\nif(!booking.date||!booking.courtId||!booking.startTime||!booking.endTime){setError('Please fill in all required date, time, and court fields.');setLoading(false);return;}// CRITICAL PRICE CHECK (Prevents \"priceDetails is required\" ValidationError)\nif(!priceBreakdown){setError('Price must be calculated before booking.');setLoading(false);return;}try{// 1. Prepare the full booking data\nconst baseDetails=_objectSpread(_objectSpread({},booking),{},{start:\"\".concat(booking.date,\"T\").concat(booking.startTime,\":00\"),end:\"\".concat(booking.date,\"T\").concat(booking.endTime,\":00\"),requestedResources:{rackets:booking.rackets,shoes:booking.shoes},// FIX: Includes the required priceDetails\npriceDetails:priceBreakdown,userId:\"60c72b1f9c8d1d0015b4c10a\"// Placeholder\n});// 2. Handle Coach ID Fix (Prevents Cast to ObjectId failed for value \"\")\nconst bookingDetailsToSend=_objectSpread({},baseDetails);if(bookingDetailsToSend.coachId===\"\"){// Delete the field entirely so Mongoose ignores it, rather than crashing\ndelete bookingDetailsToSend.coachId;}await createBooking(bookingDetailsToSend);alert('Booking confirmed successfully!');setBooking(initialBookingState);}catch(err){setError(err.message||'Failed to complete booking. Please check the server terminal for Mongoose errors.');}finally{setLoading(false);}};// --- 4. Render UI ---\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 max-w-2xl mx-auto\",children:[\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-6\",children:\"Court Booking\"}),\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 text-red-700 p-3 mb-4 rounded\",children:error}),\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"date\",value:booking.date,onChange:handleChange,required:true}),\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",/*#__PURE__*/_jsx(\"input\",{type:\"time\",name:\"startTime\",value:booking.startTime,onChange:handleChange,required:true}),\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",/*#__PURE__*/_jsx(\"input\",{type:\"time\",name:\"endTime\",value:booking.endTime,onChange:handleChange,required:true}),\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",/*#__PURE__*/_jsxs(\"select\",{name:\"courtId\",value:booking.courtId,onChange:handleChange,required:true,className:\"w-full p-2 border rounded\",children:[\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a Court\"}),\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",courts.map(court=>/*#__PURE__*/_jsxs(\"option\",{value:court._id,children:[court.name,\" (\",court.type,\")\"]},court._id)),\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \"]}),\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",/*#__PURE__*/_jsxs(\"label\",{className:\"block\",children:[\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 Add Rackets: \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"rackets\",value:booking.rackets,onChange:handleChange,min:\"0\",className:\"ml-2 border rounded p-1\"}),\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \"]}),\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",/*#__PURE__*/_jsxs(\"label\",{className:\"block\",children:[\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 Add Coach: \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",/*#__PURE__*/_jsxs(\"select\",{name:\"coachId\",value:booking.coachId,onChange:handleChange,className:\"ml-2 border rounded p-1\",children:[\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"No Coach\"}),\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",coaches.map(coach=>/*#__PURE__*/_jsxs(\"option\",{value:coach._id,children:[\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",coach.name,\" ($\",coach.hourlyRate,\"/hr) \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \"]},coach._id)),\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \"]}),\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \"]}),\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-t-2 border-gray-200\",children:[\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-2\",children:\"Live Price Breakdown\"}),\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Calculating price...\"}),\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",priceBreakdown?/*#__PURE__*/_jsxs(\"ul\",{className:\"text-gray-700\",children:[\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",/*#__PURE__*/_jsxs(\"li\",{children:[\"Court Fee: $\",((_priceBreakdown$baseC=priceBreakdown.baseCourtFee)===null||_priceBreakdown$baseC===void 0?void 0:_priceBreakdown$baseC.toFixed(2))||'0.00']}),\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",priceBreakdown.baseCoachFee>0&&/*#__PURE__*/_jsxs(\"li\",{children:[\"Coach Fee: $\",((_priceBreakdown$baseC2=priceBreakdown.baseCoachFee)===null||_priceBreakdown$baseC2===void 0?void 0:_priceBreakdown$baseC2.toFixed(2))||'0.00']}),\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",priceBreakdown.equipmentFee>0&&/*#__PURE__*/_jsxs(\"li\",{children:[\"Equipment Fee: $\",((_priceBreakdown$equip=priceBreakdown.equipmentFee)===null||_priceBreakdown$equip===void 0?void 0:_priceBreakdown$equip.toFixed(2))||'0.00']}),\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",priceBreakdown.rulesFee!==0&&/*#__PURE__*/_jsxs(\"li\",{children:[\"*Rules Modifier: $\",((_priceBreakdown$rules=priceBreakdown.rulesFee)===null||_priceBreakdown$rules===void 0?void 0:_priceBreakdown$rules.toFixed(2))||'0.00']}),\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",/*#__PURE__*/_jsxs(\"li\",{className:\"font-bold text-lg text-green-600\",children:[\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 Total: $\",((_priceBreakdown$total=priceBreakdown.total)===null||_priceBreakdown$total===void 0?void 0:_priceBreakdown$total.toFixed(2))||'0.00',\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \"]}),\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \"]}):/*#__PURE__*/_jsx(\"p\",{children:\"Select court and time to see price.\"}),\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \"]}),\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",disabled:loading||!priceBreakdown,className:\"w-full bg-blue-500 text-white p-3 rounded hover:bg-blue-600 disabled:bg-gray-400\",children:[\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \",loading?'Processing...':'Book Court',\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \"]}),\"\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \"]}),\"\\xA0 \\xA0 \\xA0 \\xA0 \"]});}export default BookingPage;","map":{"version":3,"names":["React","useState","useEffect","fetchCourts","fetchCoaches","calculatePrice","createBooking","jsx","_jsx","jsxs","_jsxs","initialBookingState","date","Date","toISOString","split","courtId","startTime","endTime","coachId","rackets","shoes","BookingPage","_priceBreakdown$baseC","_priceBreakdown$baseC2","_priceBreakdown$equip","_priceBreakdown$rules","_priceBreakdown$total","booking","setBooking","courts","setCourts","coaches","setCoaches","priceBreakdown","setPriceBreakdown","error","setError","loading","setLoading","then","catch","console","data","err","bookingDetails","start","concat","end","requestedResources","finally","handleChange","e","name","value","type","target","prev","_objectSpread","parseInt","handleSubmit","preventDefault","baseDetails","priceDetails","userId","bookingDetailsToSend","alert","message","className","children","onSubmit","onChange","required","map","court","_id","min","coach","hourlyRate","baseCourtFee","toFixed","baseCoachFee","equipmentFee","rulesFee","total","disabled"],"sources":["C:/Users/Sharon/Documents/project assignment/root/frontend/src/pages/BookingPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { fetchCourts, fetchCoaches, calculatePrice, createBooking } from '../services/bookingService'; \r\n\r\nconst initialBookingState = {\r\n    // Initialize date to today in YYYY-MM-DD format\r\n    date: new Date().toISOString().split('T')[0],\r\n    courtId: '',\r\n    startTime: '10:00',\r\n    endTime: '11:00',\r\n    coachId: '',\r\n    rackets: 0,\r\n    shoes: 0,\r\n};\r\n\r\nfunction BookingPage() {\r\n    const [booking, setBooking] = useState(initialBookingState);\r\n    const [courts, setCourts] = useState([]);\r\n    const [coaches, setCoaches] = useState([]);\r\n    const [priceBreakdown, setPriceBreakdown] = useState(null);\r\n    const [error, setError] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    \r\n    // --- 1. Fetch Initial Data (Courts & Coaches) ---\r\n    useEffect(() => {\r\n        fetchCourts().then(setCourts).catch(console.error);\r\n\r\n        fetchCoaches()\r\n            .then(data => {\r\n                setCoaches(data);\r\n            })\r\n            .catch(err => console.error(\"Error fetching coaches:\", err));\r\n        \r\n    }, []);\r\n\r\n    // --- 2. Live Price Calculation Hook ---\r\n    useEffect(() => {\r\n        // Only trigger calculation if necessary fields are set\r\n        if (booking.courtId && booking.startTime && booking.endTime) {\r\n            setLoading(true);\r\n            const bookingDetails = {\r\n                courtId: booking.courtId,\r\n                // Correct date formatting for the backend API\r\n                start: `${booking.date}T${booking.startTime}:00`,\r\n                end: `${booking.date}T${booking.endTime}:00`,\r\n                coachId: booking.coachId,\r\n                requestedResources: { rackets: booking.rackets, shoes: booking.shoes },\r\n            };\r\n            \r\n            calculatePrice(bookingDetails)\r\n                .then(data => {\r\n                    setPriceBreakdown(data);\r\n                    setError(null);\r\n                })\r\n                .catch(err => {\r\n                    console.error(\"Pricing Error:\", err);\r\n                    setPriceBreakdown(null);\r\n                    setError(\"Could not calculate price. Check backend logs for API errors.\"); \r\n                })\r\n                .finally(() => setLoading(false));\r\n        } else {\r\n            setPriceBreakdown(null);\r\n        }\r\n    }, [booking]); // Recalculate whenever booking state changes\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value, type } = e.target;\r\n        setBooking(prev => ({\r\n            ...prev,\r\n            // Convert to number only if the type attribute is set to 'number' in JSX\r\n            [name]: type === 'number' ? parseInt(value) || 0 : value\r\n        }));\r\n    };\r\n\r\n    // --- 3. Submission Handler (Includes all necessary fixes) ---\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        setError(null);\r\n        \r\n        // CRITICAL VALIDATION CHECK (Prevents \"Invalid Date\" CastError)\r\n        if (!booking.date || !booking.courtId || !booking.startTime || !booking.endTime) {\r\n            setError('Please fill in all required date, time, and court fields.');\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        // CRITICAL PRICE CHECK (Prevents \"priceDetails is required\" ValidationError)\r\n        if (!priceBreakdown) {\r\n            setError('Price must be calculated before booking.');\r\n            setLoading(false);\r\n            return;\r\n        }\r\n        \r\n        try {\r\n            // 1. Prepare the full booking data\r\n            const baseDetails = {\r\n                ...booking,\r\n                start: `${booking.date}T${booking.startTime}:00`, \r\n                end: `${booking.date}T${booking.endTime}:00`,\r\n                requestedResources: { rackets: booking.rackets, shoes: booking.shoes },\r\n                \r\n                // FIX: Includes the required priceDetails\r\n                priceDetails: priceBreakdown, \r\n                \r\n                userId: \"60c72b1f9c8d1d0015b4c10a\" // Placeholder\r\n            };\r\n\r\n            // 2. Handle Coach ID Fix (Prevents Cast to ObjectId failed for value \"\")\r\n            const bookingDetailsToSend = { ...baseDetails };\r\n            \r\n            if (bookingDetailsToSend.coachId === \"\") {\r\n                // Delete the field entirely so Mongoose ignores it, rather than crashing\r\n                delete bookingDetailsToSend.coachId; \r\n            }\r\n\r\n            await createBooking(bookingDetailsToSend);\r\n            \r\n            alert('Booking confirmed successfully!');\r\n            setBooking(initialBookingState);\r\n        } catch (err) {\r\n            setError(err.message || 'Failed to complete booking. Please check the server terminal for Mongoose errors.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // --- 4. Render UI ---\r\n    return (\r\n        <div className=\"p-8 max-w-2xl mx-auto\">\r\n            <h1 className=\"text-3xl font-bold mb-6\">Court Booking</h1>\r\n            {error && <div className=\"bg-red-100 text-red-700 p-3 mb-4 rounded\">{error}</div>}\r\n            \r\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                {/* Date and Time Selector (Time Slot Selector) */}\r\n                <input type=\"date\" name=\"date\" value={booking.date} onChange={handleChange} required />\r\n                <input type=\"time\" name=\"startTime\" value={booking.startTime} onChange={handleChange} required />\r\n                <input type=\"time\" name=\"endTime\" value={booking.endTime} onChange={handleChange} required />\r\n\r\n                {/* Court Selector */}\r\n                <select name=\"courtId\" value={booking.courtId} onChange={handleChange} required className=\"w-full p-2 border rounded\">\r\n                    <option value=\"\">Select a Court</option>\r\n                    {courts.map(court => (\r\n                        <option key={court._id} value={court._id}>{court.name} ({court.type})</option>\r\n                    ))}\r\n                </select>\r\n\r\n                {/* Coach and Equipment Selectors */}\r\n                <label className=\"block\">\r\n                    Add Rackets:\r\n                    <input type=\"number\" name=\"rackets\" value={booking.rackets} onChange={handleChange} min=\"0\" className=\"ml-2 border rounded p-1\" />\r\n                </label>\r\n                <label className=\"block\">\r\n                    Add Coach:\r\n                    <select name=\"coachId\" value={booking.coachId} onChange={handleChange} className=\"ml-2 border rounded p-1\">\r\n                        <option value=\"\">No Coach</option>\r\n                        {coaches.map(coach => (\r\n                            <option key={coach._id} value={coach._id}>\r\n                                {coach.name} (${coach.hourlyRate}/hr)\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                </label>\r\n\r\n                {/* Live Price Display */}\r\n                <div className=\"p-4 border-t-2 border-gray-200\">\r\n                    <h2 className=\"text-xl font-semibold mb-2\">Live Price Breakdown</h2>\r\n                    {loading && <p>Calculating price...</p>}\r\n                    {priceBreakdown ? (\r\n                        <ul className=\"text-gray-700\">\r\n                            {/* Ensure optional chaining for robust rendering */}\r\n                            <li>Court Fee: ${priceBreakdown.baseCourtFee?.toFixed(2) || '0.00'}</li> \r\n                            {priceBreakdown.baseCoachFee > 0 && \r\n                              <li>Coach Fee: ${priceBreakdown.baseCoachFee?.toFixed(2) || '0.00'}</li>}\r\n                            {priceBreakdown.equipmentFee > 0 && \r\n                              <li>Equipment Fee: ${priceBreakdown.equipmentFee?.toFixed(2) || '0.00'}</li>}\r\n                            {priceBreakdown.rulesFee !== 0 && \r\n                              <li>*Rules Modifier: ${priceBreakdown.rulesFee?.toFixed(2) || '0.00'}</li>}\r\n                            <li className=\"font-bold text-lg text-green-600\">\r\n                                Total: ${priceBreakdown.total?.toFixed(2) || '0.00'}\r\n                            </li>\r\n                        </ul>\r\n                    ) : <p>Select court and time to see price.</p>}\r\n                </div>\r\n\r\n                <button \r\n                    type=\"submit\" \r\n                    disabled={loading || !priceBreakdown} \r\n                    className=\"w-full bg-blue-500 text-white p-3 rounded hover:bg-blue-600 disabled:bg-gray-400\"\r\n                >\r\n                    {loading ? 'Processing...' : 'Book Court'}\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default BookingPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}