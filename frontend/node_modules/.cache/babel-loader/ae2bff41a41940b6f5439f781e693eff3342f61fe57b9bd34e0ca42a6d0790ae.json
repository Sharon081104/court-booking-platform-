{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getAllBookings}from'../../services/apiService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BookingList=()=>{const[bookings,setBookings]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const loadBookings=async()=>{try{const data=await getAllBookings();setBookings(data);}catch(err){setError(err.message||\"Failed to fetch bookings.\");}finally{setLoading(false);}};loadBookings();},[]);if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"p-6 text-center\",children:\"Loading Admin Data...\"});if(error)return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 text-center text-red-600\",children:[\"Error: \",error]});return/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 bg-white shadow-2xl rounded-xl\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-3xl font-bold mb-6 text-gray-800\",children:[\"All System Bookings (\",bookings.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-100\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase\",children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase\",children:\"Client\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase\",children:\"Court\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase\",children:\"Date / Time\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase\",children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase\",children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-100\",children:bookings.map(booking=>{var _booking$priceDetails,_booking$priceDetails2;return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-500\",children:[booking._id.substring(0,5),\"...\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",children:booking.clientName}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-indigo-600\",children:booking.courtId}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-700\",children:[new Date(booking.date).toLocaleDateString(),\" at \",booking.time]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm font-bold text-green-700\",children:[\"$\",((_booking$priceDetails=booking.priceDetails)===null||_booking$priceDetails===void 0?void 0:(_booking$priceDetails2=_booking$priceDetails.total)===null||_booking$priceDetails2===void 0?void 0:_booking$priceDetails2.toFixed(2))||'N/A']}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full \".concat(booking.status==='Confirmed'?'bg-green-100 text-green-800':'bg-yellow-100 text-yellow-800'),children:booking.status})})]},booking._id);})})]})})]});};export default BookingList;","map":{"version":3,"names":["React","useState","useEffect","getAllBookings","jsx","_jsx","jsxs","_jsxs","BookingList","bookings","setBookings","loading","setLoading","error","setError","loadBookings","data","err","message","className","children","length","map","booking","_booking$priceDetails","_booking$priceDetails2","_id","substring","clientName","courtId","Date","date","toLocaleDateString","time","priceDetails","total","toFixed","concat","status"],"sources":["C:/Users/Sharon/Documents/project assignment/root/frontend/src/components/Admin/BookingList.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getAllBookings } from '../../services/apiService';\r\n\r\nconst BookingList = () => {\r\n    const [bookings, setBookings] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const loadBookings = async () => {\r\n            try {\r\n                const data = await getAllBookings();\r\n                setBookings(data);\r\n            } catch (err) {\r\n                setError(err.message || \"Failed to fetch bookings.\");\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        loadBookings();\r\n    }, []);\r\n\r\n    if (loading) return <div className=\"p-6 text-center\">Loading Admin Data...</div>;\r\n    if (error) return <div className=\"p-6 text-center text-red-600\">Error: {error}</div>;\r\n\r\n    return (\r\n        <div className=\"p-8 bg-white shadow-2xl rounded-xl\">\r\n            <h2 className=\"text-3xl font-bold mb-6 text-gray-800\">All System Bookings ({bookings.length})</h2>\r\n            \r\n            <div className=\"overflow-x-auto\">\r\n                <table className=\"min-w-full divide-y divide-gray-200\">\r\n                    <thead className=\"bg-gray-100\">\r\n                        <tr>\r\n                            <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase\">ID</th>\r\n                            <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase\">Client</th>\r\n                            <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase\">Court</th>\r\n                            <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase\">Date / Time</th>\r\n                            <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase\">Price</th>\r\n                            <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase\">Status</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className=\"bg-white divide-y divide-gray-100\">\r\n                        {bookings.map((booking) => (\r\n                            <tr key={booking._id} className=\"hover:bg-gray-50\">\r\n                                <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-500\">{booking._id.substring(0, 5)}...</td>\r\n                                <td className=\"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">{booking.clientName}</td>\r\n                                <td className=\"px-4 py-4 whitespace-nowrap text-sm text-indigo-600\">{booking.courtId}</td>\r\n                                <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-700\">\r\n                                    {new Date(booking.date).toLocaleDateString()} at {booking.time}\r\n                                </td>\r\n                                <td className=\"px-4 py-4 whitespace-nowrap text-sm font-bold text-green-700\">${booking.priceDetails?.total?.toFixed(2) || 'N/A'}</td>\r\n                                <td className=\"px-4 py-4 whitespace-nowrap\">\r\n                                    <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${booking.status === 'Confirmed' ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'}`}>\r\n                                        {booking.status}\r\n                                    </span>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BookingList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}