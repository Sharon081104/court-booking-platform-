{"ast":null,"code":"import axios from'axios';// Set up the base URL for the backend API\nconst API=axios.create({// Use the port where your Node/Express server is running (usually 5000)\nbaseURL:'http://localhost:5000/api',headers:{'Content-Type':'application/json'}});// Function to fetch all available courts for the Slot Selector\nexport const fetchCourts=async()=>{try{const response=await API.get('/courts');return response.data;}catch(error){console.error(\"Error fetching courts:\",error);throw error;}};// Function to get the dynamic price for a potential booking (Phase 4 Logic)\nexport const checkPrice=async bookingDetails=>{try{const response=await API.post('/bookings/price',bookingDetails);return response.data.finalPrice;}catch(error){console.error(\"Error checking price:\",error);throw error;}};export const createBooking=async bookingData=>{try{// Sends the full client and slot details to the backend\nconst response=await API.post('/bookings',bookingData);return response.data;// Returns { message, bookingId, finalPrice }\n}catch(error){console.error(\"Error creating booking:\",error.response.data.message);// Throw the error message for the form to display\nthrow new Error(error.response.data.message||\"Could not finalize booking.\");}};// ... existing functions (fetchCourts, checkPrice, createBooking) ...\n// NEW: Function to get all bookings for the Admin Dashboard\nexport const getAllBookings=async()=>{try{const response=await API.get('/bookings/admin');return response.data;}catch(error){console.error(\"Error fetching all bookings:\",error.response.data.message);throw new Error(\"Could not load bookings list.\");}};","map":{"version":3,"names":["axios","API","create","baseURL","headers","fetchCourts","response","get","data","error","console","checkPrice","bookingDetails","post","finalPrice","createBooking","bookingData","message","Error","getAllBookings"],"sources":["C:/Users/Sharon/Documents/project assignment/root/frontend/src/services/apiService.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// Set up the base URL for the backend API\r\nconst API = axios.create({\r\n    // Use the port where your Node/Express server is running (usually 5000)\r\n    baseURL: 'http://localhost:5000/api', \r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n});\r\n\r\n// Function to fetch all available courts for the Slot Selector\r\nexport const fetchCourts = async () => {\r\n    try {\r\n        const response = await API.get('/courts');\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error(\"Error fetching courts:\", error);\r\n        throw error;\r\n    }\r\n};\r\n\r\n// Function to get the dynamic price for a potential booking (Phase 4 Logic)\r\nexport const checkPrice = async (bookingDetails) => {\r\n    try {\r\n       const response = await API.post('/bookings/price', bookingDetails);\r\n        return response.data.finalPrice;\r\n    } catch (error) {\r\n        console.error(\"Error checking price:\", error);\r\n        throw error;\r\n    }\r\n};\r\nexport const createBooking = async (bookingData) => {\r\n    try {\r\n        // Sends the full client and slot details to the backend\r\n        const response = await API.post('/bookings', bookingData);\r\n        return response.data; // Returns { message, bookingId, finalPrice }\r\n    } catch (error) {\r\n        console.error(\"Error creating booking:\", error.response.data.message);\r\n        // Throw the error message for the form to display\r\n        throw new Error(error.response.data.message || \"Could not finalize booking.\");\r\n    }\r\n};\r\n\r\n// ... existing functions (fetchCourts, checkPrice, createBooking) ...\r\n\r\n// NEW: Function to get all bookings for the Admin Dashboard\r\nexport const getAllBookings = async () => {\r\n    try {\r\n        const response = await API.get('/bookings/admin');\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error(\"Error fetching all bookings:\", error.response.data.message);\r\n        throw new Error(\"Could not load bookings list.\");\r\n    }\r\n};"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB;AACA,KAAM,CAAAC,GAAG,CAAGD,KAAK,CAACE,MAAM,CAAC,CACrB;AACAC,OAAO,CAAE,2BAA2B,CACpCC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAC,CAEF;AACA,MAAO,MAAM,CAAAC,WAAW,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAL,GAAG,CAACM,GAAG,CAAC,SAAS,CAAC,CACzC,MAAO,CAAAD,QAAQ,CAACE,IAAI,CACxB,CAAE,MAAOC,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAC9C,KAAM,CAAAA,KAAK,CACf,CACJ,CAAC,CAED;AACA,MAAO,MAAM,CAAAE,UAAU,CAAG,KAAO,CAAAC,cAAc,EAAK,CAChD,GAAI,CACD,KAAM,CAAAN,QAAQ,CAAG,KAAM,CAAAL,GAAG,CAACY,IAAI,CAAC,iBAAiB,CAAED,cAAc,CAAC,CACjE,MAAO,CAAAN,QAAQ,CAACE,IAAI,CAACM,UAAU,CACnC,CAAE,MAAOL,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7C,KAAM,CAAAA,KAAK,CACf,CACJ,CAAC,CACD,MAAO,MAAM,CAAAM,aAAa,CAAG,KAAO,CAAAC,WAAW,EAAK,CAChD,GAAI,CACA;AACA,KAAM,CAAAV,QAAQ,CAAG,KAAM,CAAAL,GAAG,CAACY,IAAI,CAAC,WAAW,CAAEG,WAAW,CAAC,CACzD,MAAO,CAAAV,QAAQ,CAACE,IAAI,CAAE;AAC1B,CAAE,MAAOC,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAACH,QAAQ,CAACE,IAAI,CAACS,OAAO,CAAC,CACrE;AACA,KAAM,IAAI,CAAAC,KAAK,CAACT,KAAK,CAACH,QAAQ,CAACE,IAAI,CAACS,OAAO,EAAI,6BAA6B,CAAC,CACjF,CACJ,CAAC,CAED;AAEA;AACA,MAAO,MAAM,CAAAE,cAAc,CAAG,KAAAA,CAAA,GAAY,CACtC,GAAI,CACA,KAAM,CAAAb,QAAQ,CAAG,KAAM,CAAAL,GAAG,CAACM,GAAG,CAAC,iBAAiB,CAAC,CACjD,MAAO,CAAAD,QAAQ,CAACE,IAAI,CACxB,CAAE,MAAOC,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAACH,QAAQ,CAACE,IAAI,CAACS,OAAO,CAAC,CAC1E,KAAM,IAAI,CAAAC,KAAK,CAAC,+BAA+B,CAAC,CACpD,CACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}